<div class="container">
    <div [class]="class" [style]="errorStyle">
        <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
            <label class="label" for="id_username">Promena lozinke:</label>
            <hr/>
            <div>
                <label class="label" for="id_oldPassword">Stara lozinka:</label>
                <input id="id_oldPassword" type="password" formControlName="oldPassword" class="input">
                <div *ngIf="changePasswordForm.controls['oldPassword'].invalid && (changePasswordForm.controls['oldPassword'].dirty || changePasswordForm.controls['oldPassword'].touched || isSubmitted)" class="alert">
                    <div *ngIf="changePasswordForm.controls['oldPassword'].errors['required']">
                        Stara lozinka je obavezno polje.
                    </div>
                </div>
            </div>
            <div>
                <label class="label" for="id_newPassword">Nova lozinka:</label>
                <input id="id_newPassword" type="password" formControlName="newPassword" class="input">
                <div *ngIf="changePasswordForm.controls['newPassword'].invalid && (changePasswordForm.controls['newPassword'].dirty || changePasswordForm.controls['newPassword'].touched || isSubmitted)" class="alert">
                    <div *ngIf="changePasswordForm.controls['newPassword'].errors['required']">
                        Nova lozinka je obavezno polje.
                    </div>
                    <div *ngIf="changePasswordForm.controls['newPassword'].errors['pattern']">
                        Neadekvatna lozinka.
                    </div>
                </div>
            </div>
            <div>
                <label class="label" for="id_newPasswordRepeat">Ponovi lozinku:</label>
                <input id="id_newPasswordRepeat" type="password" formControlName="newPasswordRepeat" class="input">
                <div *ngIf="changePasswordForm.controls['newPasswordRepeat'].invalid && (changePasswordForm.controls['newPasswordRepeat'].dirty || changePasswordForm.controls['newPasswordRepeat'].touched || isSubmitted)" class="alert">
                    <div *ngIf="changePasswordForm.controls['newPasswordRepeat'].errors['required']">
                        Nova lozinka je obavezno polje.
                    </div>
                    <div *ngIf="changePasswordForm.controls['newPasswordRepeat'].errors['noMatch']">
                        Loznke su razlicite.
                    </div>
                </div>
            </div>
            <button type="submit" class="button" style="margin: 20px 5%; width: 40%">Promeni lozinku</button>
            <button type="submit" class="button" style="margin: 0px 5%; width: 25%; background-color: darkolivegreen;" (click)="back()">Nazad</button>
            <div *ngIf="error" class="error-message">
                {{message}}
            </div>
        </form>
    </div>
</div>
